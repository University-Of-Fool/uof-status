<% 
  var mobile=/mobile/i.test(useragent);

%>
<!DOCTYPE html>
<html>
<%- include("_particials/head/head.ejs"); %>

<body>
  <div class="container pt-3 gap-3">
    <div class="row pb-3">
      <div class="col"><span class="h1">University of Fool: Status</span></div>
    </div>
    <div class="row">
      <div class="col">
        <div class="mdc-card" style="padding: 16px;">
          <span class="h3">服务器状态</span>
          <div class="mdc-data-table">
            <div class="mdc-data-table__table-container">
              <table class="mdc-data-table__table" aria-label="Server Status">
                <thead>
                  <tr class="mdc-data-table__header-row ">
                    <th class="mdc-data-table__header-cell" role="columnheader" scope="col"><span class="material-icons text-muted" style="vertical-align: middle;">dns</span><%if(!mobile){%><span style="vertical-align: middle;">&nbsp;服务器</span><%}%></th>
                    <th class="mdc-data-table__header-cell" role="columnheader" scope="col"><span class="material-icons text-muted" style="vertical-align: middle;">check_circle</span><%if(!mobile){%><span style="vertical-align: middle;">&nbsp;状态</span><%}%></th>
                    <th class="mdc-data-table__header-cell" role="columnheader" scope="col"><span class="material-icons text-muted" style="vertical-align: middle;">update</span><%if(!mobile){%><span style="vertical-align: middle;">&nbsp;更新时间</span><%}%></th>
                    <th class="mdc-data-table__header-cell" role="columnheader" scope="col"><span class="material-icons text-muted" style="vertical-align: middle;">info</span><%if(!mobile){%><span style="vertical-align: middle;">&nbsp;描述</span><%}%></th>
                  </tr>
                </thead>
                <tbody class="mdc-data-table__content">
                  <% servers.forEach(value=>{ %>
                  <tr class="mdc-data-table__row">
                    <th class="mdc-data-table__cell" scope="row"><%= value.name %></th>
                    <% if(!value.statuses.length){ %>
                      <td class="mdc-data-table__cell">Unavailable</td>
                      <td class="mdc-data-table__cell">Unavailable</td>
                    <% }else{ %>
                      <td class="mdc-data-table__cell"><%= value.statuses[value.statuses.length-1].status?"Online":"Offline" %></td>
                      <td class="mdc-data-table__cell"><%= value.statuses[value.statuses.length-1].time.toLocaleString() %></td>
                    <% } %>
                    <td class="mdc-data-table__cell"><%= value.description %></td>
                  </tr>
                  <% }); %>
                  </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <%- include("_particials/foot/footer.ejs"); %>
</body>

</html>